[metadata]
name = forge
version = 2018.01
long_description = file: README.rst
author = Devin Fee
author_email = devin@devinfee.com
url = http://github.com/dfee/forge
description =  forge (python) signatures for fun and profit
license = MIT
keywords =
    signatures
    parameters
    arguments
classifiers=
    Development Status :: 5 - Production/Stable
    Intended Audience :: Developers
    License :: OSI Approved :: MIT License
    Topic :: Software Development :: Libraries :: Application Frameworks
    Programming Language :: Python
    Programming Language :: Python :: 3 :: Only
    Programming Language :: Python :: 3.6

[options]
packages = forge
python_requires = >= 3.6.0

[options.extras_require]
testing =
    mypy
    pylint
    pytest

[coverage:run]
omit = tests/
branch = true

[coverage:report]
show_missing = true

[tool:pytest]
testpaths = tests/

[tox]
envlist =
    py36,py37
    coverage,
    lint,

[testenv]
basepython =
    py3: python3.6
    py36: python3.6
    py37: python3.7

commands =
    pip install -q forge[testing]
    pytest {posargs:}

[testenv:coverage]
basepython = python3.6
commands =
    pip install -q forge[testing]
    coverage run --source=forge {envbindir}/pytest
    coverage xml
    coverage report --show-missing --fail-under=100
deps =
    coverage
setenv =
    COVERAGE_FILE=.coverage

[testenv:lint]
basepython=python3.6
deps=pylint
commands=pylint forge --rcfile=.pylintrc