
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Philosophy &#8212; forge 18.5.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx_paramlinks.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Basic Usage" href="usage.html" />
    <link rel="prev" title="forge (python) signatures for fun and profit" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="philosophy">
<h1>Philosophy<a class="headerlink" href="#philosophy" title="Permalink to this headline">¶</a></h1>
<p>Let’s dig into why meta-programming function signatures is a good idea, and then we’ll cover some principals.</p>
<div class="section" id="the-why-intuitive-design">
<span id="philosophy-why"></span><h2><strong>The why</strong>: intuitive design<a class="headerlink" href="#the-why-intuitive-design" title="Permalink to this headline">¶</a></h2>
<p>Without restoring to <code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code>, Python lacks the ability to dynamically implement function signatures.
And, with <code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code>, no one wants to play with you (for good reason).</p>
<p>Consider the following scenario, where <code class="xref py py-func docutils literal notranslate"><span class="pre">do_aliens_exist()</span></code> is wrapped and simplified.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">do_aliens_exist</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span> <span class="n">p4</span><span class="p">,</span> <span class="n">p5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="sd">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="sd">    takes the time, our location, and 5 parameters</span>
<span class="gp">... </span><span class="sd">    returns: whether aliens exist</span>
<span class="gp">... </span><span class="sd">    &#39;&#39;&#39;</span>
<span class="gp">... </span>    <span class="n">compute</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">do_aliens_exist_easy</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="sd">&#39;&#39;&#39;an easier way to determine if aliens exist&#39;&#39;&#39;</span>
<span class="gp">... </span>    <span class="n">defaults</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">p1</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">p3</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">p4</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">p5</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">ts</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">lat</span><span class="o">=</span><span class="s1">&#39;-0.8292&#39;</span><span class="p">,</span> <span class="n">lon</span><span class="o">=</span><span class="s1">&#39;-91.1353&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span>    <span class="n">cleaned</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">defaults</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">do_aliens_exist</span><span class="p">(</span><span class="o">**</span><span class="n">cleaned</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">do_aliens_exist_easy</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div></blockquote>
<p>Writing, testing and maintaining signature parity is a lot of work, and even when it’s important – like when determining whether aliens exist – authors are remiss to put in the effort.</p>
<p>Instead, we ask for the <a class="reference internal" href="glossary.html#term-var-keyword"><span class="xref std std-term">var-keyword</span></a> parameter <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>, white-listing certain variables and ignoring others.
There is method to the madness, but the consumers of our code are left in the dark, asking “what parameters are accepted; what should I pass?”.</p>
<p>Too fanciful?
How about a real world example: the stdlib <code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code> module.
When inspecting one of the seven logging methods (i.e. <code class="xref py py-func docutils literal notranslate"><span class="pre">debug()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">info()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">warning()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">error()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">critical()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">log()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">exception()</span></code>) we get a meaningless signature:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
<span class="go">Help on function debug in module logging:</span>

<span class="go">debug(msg, *args, **kwargs)</span>
<span class="go">    Log a message with severity &#39;DEBUG&#39; on the root logger. If the logger has no handlers, call basicConfig() to add a console handler with a pre-defined format.</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">exc</span> <span class="o">=</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;divided by zero&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Got a {err_type} exception&#39;</span><span class="p">,</span> <span class="n">err_type</span><span class="o">=</span><span class="nb">type</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="go">TypeError: _log() got an unexpected keyword argument &#39;err_type&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Huh, figured those kwargs were for string formatting</span>
</pre></div>
</div>
<p>The current signature is worse than useless for consumers of the function –&nbsp;at best additional functionality is left unused, hidden behind the <a class="reference internal" href="glossary.html#term-var-positional"><span class="xref std std-term">var-positional</span></a> parameter <cite>*args`</cite> and the <a class="reference internal" href="glossary.html#term-var-keyword"><span class="xref std std-term">var-keyword</span></a> parameter <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>.
At worst, consumers infer functionality that might be wrong.</p>
<p>Let’s look up the <code class="docutils literal notranslate"><span class="pre">stdlib</span></code>’s <a class="reference external" href="https://docs.python.org/3.6/library/logging.html#logging.debug">logging module documentation</a> for <code class="xref py py-func docutils literal notranslate"><span class="pre">logging.debug()</span></code> (where <code class="xref py py-func docutils literal notranslate"><span class="pre">logging.error()</span></code> redirects us):</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">logging.debug(msg,</span> <span class="pre">*args,</span> <span class="pre">**kwargs)</span></code></p>
<p>Logs a message with level DEBUG on the root logger.
The <strong>msg</strong> is the message format string, and the <strong>args</strong> are the arguments which are merged into msg using the string formatting operator.
(Note that this means that you can use keywords in the format string, together with a single dictionary argument.)</p>
<p>There are three keyword arguments in kwargs which are inspected: <strong>exc_info</strong> which, if it does not evaluate as false, causes exception information to be added to the logging message.
If an exception tuple (in the format returned by sys.exc_info()) is provided, it is used; otherwise, sys.exc_info() is called to get the exception information.</p>
<p>The second optional keyword argument is <strong>stack_info</strong>, which defaults to False.
If true, stack information is added to the logging message, including the actual logging call.
Note that this is not the same stack information as that displayed through specifying exc_info: The former is stack frames from the bottom of the stack up to the logging call in the current thread, whereas the latter is information about stack frames which have been unwound, following an exception, while searching for exception handlers.</p>
<p>You can specify stack_info independently of exc_info, e.g. to just show how you got to a certain point in your code, even when no exceptions were raised.
The stack frames are printed following a header line which says:</p>
<p>…</p>
<p>The third optional keyword argument is <strong>extra</strong> which can be used to pass a dictionary which is used to populate the __dict__ of the LogRecord created for the logging event with user-defined attributes.
These custom attributes can then be used as you like.
For example, they could be incorporated into logged messages. For example:</p>
<p>…</p>
</div></blockquote>
<p>That’s a lot of documentation, but it uncovers why our attempt at supplying keyword arguments raises an <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code>. We wrongly inferred functionality like that provided by <code class="xref py py-func docutils literal notranslate"><span class="pre">str.format()</span></code> provides.
But, let’s have some empathy; the Python core developers don’t want to repeat themselves seven times, right?</p>
</div>
<div class="section" id="the-how-magic-free-manipulation">
<span id="philosophy-how"></span><h2><strong>The how</strong>: magic-free manipulation<a class="headerlink" href="#the-how-magic-free-manipulation" title="Permalink to this headline">¶</a></h2>
<p>Modern Python (3.5+) advertises a <code class="docutils literal notranslate"><span class="pre">callable</span></code> signature by looking for:</p>
<ol class="arabic simple">
<li>a <code class="xref py py-attr docutils literal notranslate"><span class="pre">__signature__</span></code> attribute on your callable</li>
<li>devising a signature from the <code class="xref py py-attr docutils literal notranslate"><span class="pre">__code__</span></code> attribute of the callable</li>
</ol>
<p>And it allows for <a class="reference external" href="https://docs.python.org/3/library/typing.html">type-hints</a> on parameters and return-values by looking for:</p>
<ol class="arabic simple">
<li>an <code class="xref py py-attr docutils literal notranslate"><span class="pre">__annotations__</span></code> attribute on the callable with a <code class="docutils literal notranslate"><span class="pre">return</span></code> key</li>
<li>devising a signature from the <code class="xref py py-attr docutils literal notranslate"><span class="pre">__code__</span></code> attribute of the callable</li>
</ol>
<p>When you call a function wrapped with <code class="docutils literal notranslate"><span class="pre">forge</span></code>, the following occurs:</p>
<ol class="arabic simple">
<li><strong>arguments</strong> are associated with the public-facing parameters</li>
<li>pre-<strong>bound</strong> parameters are added to the arguments mapping</li>
<li><strong>default</strong> values are applied for missing parameters</li>
<li><strong>converters</strong> (as supplied) are applied to the default or provided values</li>
<li><strong>validators</strong> (as supplied) are called with the converted values</li>
<li>the arguments are mapped onto the wrapped function’s signature</li>
<li>the wrapped function is called with the mapped attributes</li>
</ol>
</div>
<div class="section" id="the-what-applying-the-knowledge">
<span id="philosophy-what"></span><h2><strong>The what</strong>: applying the knowledge<a class="headerlink" href="#the-what-applying-the-knowledge" title="Permalink to this headline">¶</a></h2>
<p>Looking back on the code for <code class="xref py py-func docutils literal notranslate"><span class="pre">logging.debug()</span></code>, let’s try and improve upon this implementation by wrapping the standard logging methods with enough information to provide basic direction for end-users.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">make_explicit</span> <span class="o">=</span> <span class="n">forge</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">forge</span><span class="o">.</span><span class="n">arg</span><span class="p">(</span><span class="s1">&#39;msg&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="o">*</span><span class="n">forge</span><span class="o">.</span><span class="n">args</span><span class="p">(</span><span class="s1">&#39;substitutions&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">exc_info</span><span class="o">=</span><span class="n">forge</span><span class="o">.</span><span class="n">kwarg</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">stack_info</span><span class="o">=</span><span class="n">forge</span><span class="o">.</span><span class="n">kwarg</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">extras</span><span class="o">=</span><span class="n">forge</span><span class="o">.</span><span class="n">kwarg</span><span class="p">(</span><span class="n">factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">debug</span> <span class="o">=</span> <span class="n">make_explicit</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="n">make_explicit</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">warning</span> <span class="o">=</span> <span class="n">make_explicit</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">error</span> <span class="o">=</span> <span class="n">make_explicit</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">critical</span> <span class="o">=</span> <span class="n">make_explicit</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">critical</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">log</span> <span class="o">=</span> <span class="n">make_explicit</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exception</span> <span class="o">=</span> <span class="n">make_explicit</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">exception</span><span class="p">)</span>
</pre></div>
</div>
<p>The seven logging methods of <code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code> have been wrapped.
Let’s see what it actually looks like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">debug</span><span class="p">)</span>
<span class="go">Help on function debug in module logging:</span>

<span class="go">debug(msg, *substitutions, exc_info=False, stack_info=False, extras=&lt;Factory dict&gt;)</span>
<span class="go">   Log a message with severity &#39;DEBUG&#39; on the root logger. If the logger has</span>
<span class="go">   no handlers, call basicConfig() to add a console handler with a pre-defined</span>
<span class="go">   format.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exc</span> <span class="o">=</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;divided by zero&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Got a </span><span class="si">%s</span><span class="s1"> exception&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="go">ERROR:root:Got a ValueError exception</span>
</pre></div>
</div>
<p>We now have an aided intuition about how to use the function.</p>
<p>Forge provides a sane middle-ground for <em>well-intentioned, albeit lazy</em> package authors and <em>pragmatic, albeit lazy</em> package consumers to communicate functionality and intent.</p>
<div class="section" id="the-bottom-line-everyone-deserves-better">
<h3><strong>The bottom-line</strong>: everyone deserves better<a class="headerlink" href="#the-bottom-line-everyone-deserves-better" title="Permalink to this headline">¶</a></h3>
<p>After a case-study with <code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code> where we enhanced the code with context, let’s consider the modern state of Python signatures beyond the <code class="docutils literal notranslate"><span class="pre">stdlib</span></code>.</p>
<p>Codebases you the broadly adopted <code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlalchemy</span></code> or <code class="xref py py-mod docutils literal notranslate"><span class="pre">graphene</span></code> could benefit, as could third party corporate APIs which expect you to identify subtleties.</p>
<p>Driving developers from their IDE to your documentation is an dark pattern. Be a good community member – write cleanly and clearly.</p>
</div>
</div>
<div class="section" id="design-principals">
<span id="philosophy-design-principals"></span><h2>Design principals<a class="headerlink" href="#design-principals" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>The API emulates usage.</strong></dt>
<dd><code class="docutils literal notranslate"><span class="pre">forge</span></code> provides an API for making function signatures more literate.
Therefore, the library is designed in a literate way.
Users are encouraged to supply <a class="reference internal" href="glossary.html#term-positional-only"><span class="xref std std-term">positional-only</span></a> and <a class="reference internal" href="glossary.html#term-positional-or-keyword"><span class="xref std std-term">positional-or-keyword</span></a> parameters as positional arguments, the <a class="reference internal" href="glossary.html#term-var-positional"><span class="xref std std-term">var-positional</span></a> parameter for positional-expansion (e.g. <code class="docutils literal notranslate"><span class="pre">*forge.args</span></code>), <a class="reference internal" href="glossary.html#term-keyword-only"><span class="xref std std-term">keyword-only</span></a> parameters as keyword arguments, and the <a class="reference internal" href="glossary.html#term-var-keyword"><span class="xref std std-term">var-keyword</span></a> parameter for keyword expansion (e.g. <code class="docutils literal notranslate"><span class="pre">**forge.kwargs</span></code>).</dd>
<dt><strong>Minimal API impact.</strong></dt>
<dd><p class="first">Your callable, and it’s underlying code is 100% unmodified, organic.
You can even get the original function by accessing the function’s <code class="xref py py-attr docutils literal notranslate"><span class="pre">__wrapped__</span></code> attribute.</p>
<p class="last">Function in, function out: no hybrid instance-callables produced.
<code class="xref py py-func docutils literal notranslate"><span class="pre">classmethod`()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">staticmethod`()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">property`()</span></code> are all supported.</p>
</dd>
<dt><strong>Performance matters.</strong></dt>
<dd><p class="first"><code class="docutils literal notranslate"><span class="pre">forge</span></code> was written from the ground up with an eye on performance, so it does the heavy lifting once, upfront rather than every time it’s called.</p>
<p class="last">All classes use <code class="xref py py-attr docutils literal notranslate"><span class="pre">__slots__</span></code> for speeder attribute access.
PyPy 6.0.0+ has first class support.</p>
</dd>
<dt><strong>Immutable and flexible.</strong></dt>
<dd><code class="docutils literal notranslate"><span class="pre">forge</span></code> classes are immutable, but also flexible enough to support dynamic usage.
You can share an <code class="xref py py-class docutils literal notranslate"><span class="pre">FParameter</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">FSignature</span></code> without fearing for your previously signed classes.</dd>
<dt><strong>Type-Hints available.</strong></dt>
<dd><code class="docutils literal notranslate"><span class="pre">forge</span></code> supports the use of <a class="reference external" href="https://docs.python.org/3/library/typing.html">type-hints</a> by providing an API for supplying types on parameters.
In addition, <code class="docutils literal notranslate"><span class="pre">forge</span></code> itself is written with <a class="reference external" href="https://docs.python.org/3/library/typing.html">type-hints</a>.</dd>
<dt><strong>100% Coverage and Linted</strong></dt>
<dd><code class="docutils literal notranslate"><span class="pre">forge</span></code> maintains 100% code-coverage through unit testing.
Code is also linted with <code class="docutils literal notranslate"><span class="pre">mypy</span></code> and <code class="docutils literal notranslate"><span class="pre">pylint</span></code> during automated testing upon every <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code>.</dd>
</dl>
</div>
<div class="section" id="what-forge-is-not">
<h2>What <code class="docutils literal notranslate"><span class="pre">forge</span></code> is not<a class="headerlink" href="#what-forge-is-not" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">forge</span></code> isn’t an interface to the wild-west that is <code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code> or <code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code>.</p>
<p>All <code class="docutils literal notranslate"><span class="pre">forge</span></code> does is:</p>
<ol class="arabic simple">
<li>takes your new signature,</li>
<li>wraps your old callable,</li>
<li>routes calls between the two</li>
</ol>
<p>The mapper is built prior to execution (for speed).
It’s available for inspection, but immutable (at <code class="xref py py-attr docutils literal notranslate"><span class="pre">__mapper__`</span></code>).
The callable remains unmodified and intact (at :attr:<code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code>).</p>
</div>
<div class="section" id="common-names-forge-arg-and-forge-kwarg">
<h2>Common names: <code class="docutils literal notranslate"><span class="pre">forge.arg</span></code> and <code class="docutils literal notranslate"><span class="pre">forge.kwarg</span></code><a class="headerlink" href="#common-names-forge-arg-and-forge-kwarg" title="Permalink to this headline">¶</a></h2>
<p>Based on a quick, informal poll of <code class="docutils literal notranslate"><span class="pre">#python</span></code>, many developers don’t know the formal parameter names. Given a function that looks like:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">a</span></code> is often referred to as an <em>argument</em> (an <code class="docutils literal notranslate"><span class="pre">arg</span></code>), and</li>
<li><code class="docutils literal notranslate"><span class="pre">c</span></code> is often referred to as a <em>keyword argument</em> (a <code class="docutils literal notranslate"><span class="pre">kwarg</span></code>),</li>
<li><code class="docutils literal notranslate"><span class="pre">b</span></code> is usually bucketed as either of the above,</li>
<li><code class="docutils literal notranslate"><span class="pre">*args</span></code> is simply referred to as <code class="docutils literal notranslate"><span class="pre">args</span></code>, and</li>
<li><code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> is simply referred to as <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>.</li>
</ul>
<p>Officially, that’s inaccurate.
- <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are <a class="reference internal" href="glossary.html#term-positional-or-keyword"><span class="xref std std-term">positional-or-keyword</span></a> parameters,
- <code class="docutils literal notranslate"><span class="pre">c</span></code> is a <a class="reference internal" href="glossary.html#term-keyword-only"><span class="xref std std-term">keyword-only</span></a> parameter,
- <code class="docutils literal notranslate"><span class="pre">args</span></code> is a <a class="reference internal" href="glossary.html#term-var-positional"><span class="xref std std-term">var-positional</span></a> parameter, and
- <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> is a <a class="reference internal" href="glossary.html#term-var-keyword"><span class="xref std std-term">var-keyword</span></a> parameter.</p>
<p>Python developers are often pragmatic developers, so <code class="docutils literal notranslate"><span class="pre">forge</span></code> was written in a supportive manner.
Therefore, the following synonyms are defined:</p>
<ul class="simple">
<li>creation of <a class="reference internal" href="glossary.html#term-positional-only"><span class="xref std std-term">positional-only</span></a> parameters with <a class="reference internal" href="api.html#forge.pos" title="forge.pos"><code class="xref py py-func docutils literal notranslate"><span class="pre">forge.pos()</span></code></a>,</li>
<li>creation of <a class="reference internal" href="glossary.html#term-positional-or-keyword"><span class="xref std std-term">positional-or-keyword</span></a> parameters with <code class="xref py py-func docutils literal notranslate"><span class="pre">forge.arg()</span></code> or <a class="reference internal" href="api.html#forge.pok" title="forge.pok"><code class="xref py py-func docutils literal notranslate"><span class="pre">forge.pok()</span></code></a>, and</li>
<li>creation of <a class="reference internal" href="glossary.html#term-keyword-only"><span class="xref std std-term">keyword-only</span></a> parameters with <code class="xref py py-func docutils literal notranslate"><span class="pre">forge.kwarg()</span></code> or <a class="reference internal" href="api.html#forge.kwo" title="forge.kwo"><code class="xref py py-func docutils literal notranslate"><span class="pre">forge.kwo()</span></code></a>.</li>
</ul>
<p>Use whichever variant you please.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/forge-vertical.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Philosophy</a><ul>
<li><a class="reference internal" href="#the-why-intuitive-design"><strong>The why</strong>: intuitive design</a></li>
<li><a class="reference internal" href="#the-how-magic-free-manipulation"><strong>The how</strong>: magic-free manipulation</a></li>
<li><a class="reference internal" href="#the-what-applying-the-knowledge"><strong>The what</strong>: applying the knowledge</a><ul>
<li><a class="reference internal" href="#the-bottom-line-everyone-deserves-better"><strong>The bottom-line</strong>: everyone deserves better</a></li>
</ul>
</li>
<li><a class="reference internal" href="#design-principals">Design principals</a></li>
<li><a class="reference internal" href="#what-forge-is-not">What <code class="docutils literal notranslate"><span class="pre">forge</span></code> is not</a></li>
<li><a class="reference internal" href="#common-names-forge-arg-and-forge-kwarg">Common names: <code class="docutils literal notranslate"><span class="pre">forge.arg</span></code> and <code class="docutils literal notranslate"><span class="pre">forge.kwarg</span></code></a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter"><code class="docutils literal notranslate"><span class="pre">forge</span></code> <em>(python) signatures for fun and profit</em></a></li>
      <li>Next: <a href="usage.html" title="next chapter">Basic Usage</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/philosophy.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Devin Fee.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/philosophy.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>